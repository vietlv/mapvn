
<!doctype html>
<html lang="en">
<body>

<script src="https://content.jwplatform.com/libraries/lqsWlr4Z.js"></script>
  <br>
  <div class="mediaplayer" style="margin-left:5%; width: 720px">
    <div id='myvideo' ></div>
  </div>
  <br>
<script type='text/javascript'>
  //var myParam = location.search.split('file=')[1] ? location.search.split('file=')[1] : 'yp34SRmf.m3u8';

  var reconnectTime= 0;
  var playerInstance = jwplayer('myvideo');
  playerInstance.setup({
    width: '100%',
    file: "http://123.31.40.11:1935/idg-input/hungyen2/playlist.m3u8",//myParam,
    androidhls:"true",
    hlslabels: {
      "3027": "1080p",
      "1376": "720p",
      "756": "480p",
      "585": "360p",
      "354": "240p"
    },
    autostart: true,
    mute: false,
    preload: "auto",
    primary: "html5",
  });
  playerInstance.on("error", function(){
      reconnectTime++
      console.log(reconnectTime);
      if(reconnectTime > 20) return;
      playerInstance.load({file: myFile});
      playerInstance.play();
      //setTimeout(function(){ reconnectTime++; }, 1000);
  });
  playerInstance.on("complete", function(){
      console.log(reconnectTime);
      playerInstance.load({file: myFile});
      playerInstance.play();
  });

</script>

</body>
</html>
